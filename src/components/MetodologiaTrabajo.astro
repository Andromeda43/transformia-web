---
// MetodologiaTrabajo.astro - Componente principal con estética retrofuturista
import MetodologiaHeader from './MetodologiaComponents/MetodologiaHeader.astro';
import MetodologiaCycle from './MetodologiaComponents/MetodologiaCycle.astro';
import MetodologiaBeneficios from './MetodologiaComponents/MetodologiaBeneficios.astro';
---

<section id="metodologia" class="metodologia-section">
  <!-- Elemento de transición hacia la sección anterior -->
  <div class="section-transition"></div>
  
  <!-- Fondos avanzados y efectos visuales -->
  <div class="cyberpunk-background">
    <!-- Efecto de rejilla digital -->
    <div class="digital-grid"></div>
    
    <!-- Efecto de líneas de código -->
    <div class="code-lines">
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
      <div class="code-line"></div>
    </div>
    
    <!-- Efecto de circuitos -->
    <div class="circuit-patterns">
      <div class="circuit circuit-1"></div>
      <div class="circuit circuit-2"></div>
      <div class="circuit circuit-3"></div>
    </div>
    
    <!-- Efecto de nodos y conexiones -->
    <div class="neural-network">
      <div class="node node-1"></div>
      <div class="node node-2"></div>
      <div class="node node-3"></div>
      <div class="node node-4"></div>
      <div class="node node-5"></div>
      <div class="node node-6"></div>
      <div class="connection connection-1"></div>
      <div class="connection connection-2"></div>
      <div class="connection connection-3"></div>
      <div class="connection connection-4"></div>
      <div class="connection connection-5"></div>
    </div>
    
    <!-- Efecto de partículas de datos -->
    <div class="data-particles">
      <div class="particle particle-1"></div>
      <div class="particle particle-2"></div>
      <div class="particle particle-3"></div>
      <div class="particle particle-4"></div>
      <div class="particle particle-5"></div>
      <div class="particle particle-6"></div>
      <div class="particle particle-7"></div>
      <div class="particle particle-8"></div>
      <div class="particle particle-9"></div>
      <div class="particle particle-10"></div>
      <div class="particle particle-11"></div>
      <div class="particle particle-12"></div>
    </div>
    
    <!-- Overlay para dar profundidad -->
    <div class="depth-overlay"></div>
  </div>
  
  <!-- Decoración de interfaz de alta tecnología -->
  <div class="tech-ui-elements">
    <div class="tech-corner top-left">
      <div class="corner-line horizontal"></div>
      <div class="corner-line vertical"></div>
    </div>
    <div class="tech-corner top-right">
      <div class="corner-line horizontal"></div>
      <div class="corner-line vertical"></div>
    </div>
    <div class="tech-corner bottom-left">
      <div class="corner-line horizontal"></div>
      <div class="corner-line vertical"></div>
    </div>
    <div class="tech-corner bottom-right">
      <div class="corner-line horizontal"></div>
      <div class="corner-line vertical"></div>
    </div>
    
    <div class="scanning-line"></div>
  </div>
  
  <div class="container">
    <!-- Componentes de Metodología -->
    <MetodologiaHeader />
    <MetodologiaCycle />
    <MetodologiaBeneficios />
  </div>
</section>

<style>
  /* Variables y estilos base */
  :root {
    --purple: #8a42ff;
    --purple-dark: #5a35d1;
    --purple-light: #b076ff;
    --blue-neon: #42f5ff;
    --pink-neon: #ff42cf;
    --dark-bg: #080814;
    --dark-purple: #1a142d;
  }
  
  .metodologia-section {
    position: relative;
    width: 100%;
    min-height: 100vh;
    background-color: var(--dark-bg);
    color: white;
    padding: 8rem 0 6rem;
    overflow: hidden;
    display: flex;
    justify-content: center;
    box-sizing: border-box;
  }
  
  /* Transición suave entre secciones */
  .section-transition {
    position: absolute;
    top: -60px;
    left: 0;
    width: 100%;
    height: 120px;
    background: linear-gradient(to bottom, transparent, var(--dark-bg));
    z-index: 20;
  }
  
  .container {
    width: 100%;
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 2rem;
    position: relative;
    z-index: 20;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }
  
  /* Fondo cyberpunk retrofuturista */
  .cyberpunk-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden;
  }
  
  /* Rejilla digital en perspectiva */
  .digital-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 200%;
    background-image: 
      linear-gradient(to right, rgba(138, 66, 255, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(138, 66, 255, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(1000px) rotateX(60deg);
    transform-origin: center top;
    animation: grid-movement 30s linear infinite;
    opacity: 0.5;
  }
  
  @keyframes grid-movement {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 0 1000px;
    }
  }
  
  /* Líneas de código que se mueven verticalmente */
  .code-lines {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.3;
  }
  
  .code-line {
    position: absolute;
    width: 1px;
    height: 100%;
    background: linear-gradient(to bottom, transparent, var(--purple), transparent);
    top: 0;
    animation: code-line-movement 15s linear infinite;
  }
  
  .code-line::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(to bottom, 
      transparent 0%, 
      transparent 10%,
      var(--purple-light) 10%,
      var(--purple-light) 15%,
      transparent 15%,
      transparent 20%
    );
    opacity: 0.8;
  }
  
  .code-line:nth-child(1) { left: 10%; animation-duration: 9s; }
  .code-line:nth-child(2) { left: 15%; animation-duration: 15s; animation-delay: 2s; }
  .code-line:nth-child(3) { left: 35%; animation-duration: 12s; animation-delay: 4s; }
  .code-line:nth-child(4) { left: 50%; animation-duration: 18s; animation-delay: 1s; }
  .code-line:nth-child(5) { left: 65%; animation-duration: 10s; animation-delay: 3s; }
  .code-line:nth-child(6) { left: 75%; animation-duration: 14s; animation-delay: 6s; }
  .code-line:nth-child(7) { left: 85%; animation-duration: 11s; animation-delay: 7s; }
  .code-line:nth-child(8) { left: 90%; animation-duration: 16s; animation-delay: 5s; }
  
  @keyframes code-line-movement {
    0% {
      transform: translateY(-100%);
    }
    100% {
      transform: translateY(100%);
    }
  }
  
  /* Patrones de circuitos */
  .circuit-patterns {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
  }
  
  .circuit {
    position: absolute;
    opacity: 0.15;
    background-size: contain;
    background-repeat: no-repeat;
    filter: hue-rotate(0deg);
    animation: circuit-glow 4s ease-in-out infinite alternate;
  }
  
  .circuit-1 {
    width: 300px;
    height: 300px;
    top: 10%;
    left: 5%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cstyle%3E path, circle %7B stroke: %238a42ff; stroke-width: 2; fill: none; %7D %3C/style%3E%3Cpath d='M50,20 L150,20 L150,100 L100,150 L50,100 Z'/%3E%3Ccircle cx='50' cy='20' r='5'/%3E%3Ccircle cx='150' cy='20' r='5'/%3E%3Ccircle cx='150' cy='100' r='5'/%3E%3Ccircle cx='100' cy='150' r='5'/%3E%3Ccircle cx='50' cy='100' r='5'/%3E%3Cpath d='M50,20 L50,100 M150,20 L150,100 M50,100 L100,150 M100,150 L150,100'/%3E%3C/svg%3E");
    animation-delay: 0s;
  }
  
  .circuit-2 {
    width: 400px;
    height: 400px;
    bottom: 20%;
    right: 10%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cstyle%3E path, circle %7B stroke: %238a42ff; stroke-width: 2; fill: none; %7D %3C/style%3E%3Cpath d='M20,50 L180,50 M20,100 L180,100 M20,150 L180,150 M50,20 L50,180 M100,20 L100,180 M150,20 L150,180'/%3E%3Ccircle cx='50' cy='50' r='5'/%3E%3Ccircle cx='100' cy='50' r='5'/%3E%3Ccircle cx='150' cy='50' r='5'/%3E%3Ccircle cx='50' cy='100' r='5'/%3E%3Ccircle cx='100' cy='100' r='5'/%3E%3Ccircle cx='150' cy='100' r='5'/%3E%3Ccircle cx='50' cy='150' r='5'/%3E%3Ccircle cx='100' cy='150' r='5'/%3E%3Ccircle cx='150' cy='150' r='5'/%3E%3C/svg%3E");
    animation-delay: 2s;
  }
  
  .circuit-3 {
    width: 350px;
    height: 350px;
    top: 40%;
    left: 25%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cstyle%3E path, circle %7B stroke: %238a42ff; stroke-width: 2; fill: none; %7D %3C/style%3E%3Ccircle cx='100' cy='100' r='80'/%3E%3Cpath d='M100,20 L100,180 M20,100 L180,100 M35,35 L165,165 M35,165 L165,35'/%3E%3Ccircle cx='100' cy='20' r='5'/%3E%3Ccircle cx='100' cy='180' r='5'/%3E%3Ccircle cx='20' cy='100' r='5'/%3E%3Ccircle cx='180' cy='100' r='5'/%3E%3Ccircle cx='35' cy='35' r='5'/%3E%3Ccircle cx='165' cy='165' r='5'/%3E%3Ccircle cx='35' cy='165' r='5'/%3E%3Ccircle cx='165' cy='35' r='5'/%3E%3C/svg%3E");
    animation-delay: 1s;
  }
  
  @keyframes circuit-glow {
    0%, 100% {
      opacity: 0.15;
      filter: hue-rotate(0deg) brightness(1);
    }
    50% {
      opacity: 0.25;
      filter: hue-rotate(30deg) brightness(1.2);
    }
  }
  
  /* Red neuronal con nodos y conexiones */
  .neural-network {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
  }
  
  .node {
    position: absolute;
    width: 12px;
    height: 12px;
    background: var(--purple);
    border-radius: 50%;
    box-shadow: 0 0 15px var(--purple), 0 0 5px var(--purple-light);
    animation: node-pulse 4s infinite alternate;
  }
  
  .node-1 { top: 20%; left: 30%; animation-delay: 0s; }
  .node-2 { top: 30%; right: 25%; animation-delay: 0.7s; }
  .node-3 { top: 50%; left: 15%; animation-delay: 1.4s; }
  .node-4 { top: 60%; right: 20%; animation-delay: 2.1s; }
  .node-5 { top: 75%; left: 40%; animation-delay: 2.8s; }
  .node-6 { top: 40%; left: 60%; animation-delay: 3.5s; }
  
  @keyframes node-pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 15px var(--purple), 0 0 5px var(--purple-light);
    }
    50% {
      transform: scale(1.3);
      box-shadow: 0 0 25px var(--purple), 0 0 8px var(--purple-light);
    }
  }
  
  .connection {
    position: absolute;
    height: 2px;
    background: linear-gradient(90deg, var(--purple), var(--purple-light));
    opacity: 0.5;
    transform-origin: 0 0;
    animation: connection-pulse 3s infinite alternate;
  }
  
  .connection-1 {
    width: 200px;
    top: calc(20% + 6px);
    left: calc(30% + 6px);
    transform: rotate(15deg);
    animation-delay: 0.2s;
  }
  
  .connection-2 {
    width: 250px;
    top: calc(30% + 6px);
    left: calc(25% + 450px);
    transform: rotate(150deg);
    animation-delay: 0.9s;
  }
  
  .connection-3 {
    width: 300px;
    top: calc(50% + 6px);
    left: calc(15% + 6px);
    transform: rotate(-20deg);
    animation-delay: 1.6s;
  }
  
  .connection-4 {
    width: 200px;
    top: calc(60% + 6px);
    left: calc(20% + 600px);
    transform: rotate(-160deg);
    animation-delay: 2.3s;
  }
  
  .connection-5 {
    width: 250px;
    top: calc(75% + 6px);
    left: calc(40% + 6px);
    transform: rotate(-30deg);
    animation-delay: 3s;
  }
  
  @keyframes connection-pulse {
    0% {
      opacity: 0.3;
      background: linear-gradient(90deg, var(--purple), var(--purple-light));
    }
    50% {
      opacity: 0.7;
      background: linear-gradient(90deg, var(--purple-light), var(--blue-neon));
    }
    100% {
      opacity: 0.3;
      background: linear-gradient(90deg, var(--purple), var(--purple-light));
    }
  }
  
  /* Partículas de datos */
  .data-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
  }
  
  .particle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: var(--purple-light);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--purple-light);
    opacity: 0.7;
    animation: particle-movement 15s linear infinite;
  }
  
  .particle:nth-child(odd) {
    background: var(--blue-neon);
    box-shadow: 0 0 10px var(--blue-neon);
  }
  
  .particle:nth-child(3n) {
    background: var(--pink-neon);
    box-shadow: 0 0 10px var(--pink-neon);
  }
  
  .particle:nth-child(1) { top: 10%; left: 20%; animation-duration: 20s; animation-delay: 0s; }
  .particle:nth-child(2) { top: 15%; left: 70%; animation-duration: 25s; animation-delay: 1s; }
  .particle:nth-child(3) { top: 25%; left: 40%; animation-duration: 15s; animation-delay: 2s; }
  .particle:nth-child(4) { top: 35%; left: 80%; animation-duration: 18s; animation-delay: 3s; }
  .particle:nth-child(5) { top: 45%; left: 10%; animation-duration: 22s; animation-delay: 4s; }
  .particle:nth-child(6) { top: 55%; left: 50%; animation-duration: 19s; animation-delay: 5s; }
  .particle:nth-child(7) { top: 65%; left: 30%; animation-duration: 17s; animation-delay: 6s; }
  .particle:nth-child(8) { top: 75%; left: 60%; animation-duration: 24s; animation-delay: 7s; }
  .particle:nth-child(9) { top: 85%; left: 25%; animation-duration: 21s; animation-delay: 8s; }
  .particle:nth-child(10) { top: 5%; left: 45%; animation-duration: 16s; animation-delay: 9s; }
  .particle:nth-child(11) { top: 50%; left: 75%; animation-duration: 23s; animation-delay: 10s; }
  .particle:nth-child(12) { top: 70%; left: 5%; animation-duration: 26s; animation-delay: 11s; }
  
  @keyframes particle-movement {
    0% {
      transform: translate(0, 0) scale(1);
    }
    20% {
      transform: translate(100px, 50px) scale(1.5);
    }
    40% {
      transform: translate(200px, -80px) scale(1);
    }
    60% {
      transform: translate(100px, -120px) scale(2);
    }
    80% {
      transform: translate(-100px, -50px) scale(1);
    }
    100% {
      transform: translate(0, 0) scale(1);
    }
  }
  
  /* Overlay para añadir profundidad */
  .depth-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center, transparent 0%, rgba(8, 8, 20, 0.5) 100%);
    z-index: 2;
  }
  
  /* Elementos de interfaz de alta tecnología */
  .tech-ui-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none;
  }
  
  .tech-corner {
    position: absolute;
    width: 100px;
    height: 100px;
  }
  
  .corner-line {
    position: absolute;
    background: var(--purple);
    opacity: 0.6;
  }
  
  .horizontal {
    height: 2px;
    width: 100%;
    box-shadow: 0 0 10px var(--purple);
  }
  
  .vertical {
    width: 2px;
    height: 100%;
    box-shadow: 0 0 10px var(--purple);
  }
  
  .top-left {
    top: 50px;
    left: 50px;
  }
  
  .top-left .horizontal {
    top: 0;
    left: 0;
  }
  
  .top-left .vertical {
    top: 0;
    left: 0;
  }
  
  .top-right {
    top: 50px;
    right: 50px;
  }
  
  .top-right .horizontal {
    top: 0;
    right: 0;
  }
  
  .top-right .vertical {
    top: 0;
    right: 0;
  }
  
  .bottom-left {
    bottom: 50px;
    left: 50px;
  }
  
  .bottom-left .horizontal {
    bottom: 0;
    left: 0;
  }
  
  .bottom-left .vertical {
    bottom: 0;
    left: 0;
  }
  
  .bottom-right {
    bottom: 50px;
    right: 50px;
  }
  
  .bottom-right .horizontal {
    bottom: 0;
    right: 0;
  }
  
  .bottom-right .vertical {
    bottom: 0;
    right: 0;
  }
  
  .scanning-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--blue-neon), transparent);
    opacity: 0.6;
    box-shadow: 0 0 15px var(--blue-neon);
    animation: scanning 8s ease-in-out infinite;
  }
  
  @keyframes scanning {
    0%, 100% {
      top: 0;
      opacity: 0;
    }
    10% {
      opacity: 0.8;
    }
    50% {
      top: 100%;
      opacity: 0.8;
    }
    90% {
      opacity: 0;
    }
  }
  
  /* Responsive */
  @media (max-width: 1200px) {
    .container {
      padding: 0 1.5rem;
    }
    
    .tech-corner {
      width: 80px;
      height: 80px;
    }
  }
  
  @media (max-width: 992px) {
    .metodologia-section {
      padding: 7rem 0 5rem;
    }
    
    .container {
      padding: 0 1.25rem;
    }
    
    /* Simplificar elementos de fondo para tablets */
    .circuit-3 {
      display: none;
    }
  }
  
  @media (max-width: 768px) {
    .metodologia-section {
      padding: 6rem 0 4rem;
    }
    
    .container {
      padding: 0 1rem;
    }
    
    /* Reducir efectos visuales para mejorar rendimiento */
    .circuit-2 {
      display: none;
    }
    
    .node:nth-child(even),
    .connection:nth-child(even) {
      display: none;
    }
    
    .particle:nth-child(odd) {
      display: none;
    }
    
    .tech-corner {
      width: 60px;
      height: 60px;
    }
  }
  
  @media (max-width: 576px) {
    .metodologia-section {
      padding: 5rem 0 3rem;
    }
    
    .container {
      padding: 0 0.75rem;
    }
    
    /* Minimizar efectos para dispositivos móviles */
    .connection {
      display: none;
    }
    
    .particle {
      display: none;
    }
    
    .tech-corner {
      width: 40px;
      height: 40px;
    }
    
    /* Mantener solo algunos nodos */
    .node-2, .node-3, .node-5 {
      display: none;
    }
  }
</style>